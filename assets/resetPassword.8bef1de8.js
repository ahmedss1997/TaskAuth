import{_ as de}from"./nuxt-link.65567055.js";import{m as ve,i as fe,j as me,k as he,l as ye,n as ge,o as _e,p as xe,q as be,r as we,f as E,s as pe,t as Ve,w as ke,x as Ce,M as Pe,V as Ee,a as Q,v as Re,b as z,y as Te,h as Z,c as Be,d as L,e as O,g as $,u as N}from"./VTextField.2dfaf38b.js";import{x as q,y as Se,z as K,A as Ie,B as ne,C as h,r as R,D as Ae,h as G,E as J,F as Fe,b as t,G as Le,H as ee,I as te,s as ae,J as se,K as le,L as $e,M as He,N as Ye,O as X,P as je,Q as ue,R as We,S as Xe,T as De,U as Me,V as ze,W as oe,v as Oe,c as H,a as C,w as u,o as Y,X as j,Y as Ne,d as p,t as U}from"./entry.2049793b.js";import{V as Ue}from"./VChip.22fe4458.js";const Ge=q({autofocus:Boolean,divider:String,focusAll:Boolean,label:{type:String,default:"$vuetify.input.otp"},length:{type:[Number,String],default:6},modelValue:{type:[Number,String],default:void 0},placeholder:String,type:{type:String,default:"number"},...ve(),...fe(),...Se(me({variant:"outlined"}),["baseColor","bgColor","class","color","disabled","error","loading","rounded","style","theme","variant"])},"VOtpInput"),qe=K()({name:"VOtpInput",props:Ge(),emits:{finish:e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,n){let{attrs:o,emit:a,slots:r}=n;const{dimensionStyles:d}=he(e),{isFocused:l,focus:x,blur:_}=ye(e),v=Ie(e,"modelValue","",i=>i==null?[]:String(i).split(""),i=>i.join("")),{t:B}=ne(),T=h(()=>Number(e.length)),S=h(()=>Array(T.value).fill(0)),c=R(-1),s=R(),f=R([]),m=h(()=>f.value[c.value]);function F(){if(I(m.value.value)){m.value.value="";return}const i=v.value.slice(),y=m.value.value;i[c.value]=y;let V=null;c.value>v.value.length?V=v.value.length+1:c.value+1!==T.value&&(V="next"),v.value=i,V&&te(s.value,V)}function D(i){const y=v.value.slice(),V=c.value;let k=null;["ArrowLeft","ArrowRight","Backspace","Delete"].includes(i.key)&&(i.preventDefault(),i.key==="ArrowLeft"?k="prev":i.key==="ArrowRight"?k="next":["Backspace","Delete"].includes(i.key)&&(y[c.value]="",v.value=y,c.value>0&&i.key==="Backspace"?k="prev":requestAnimationFrame(()=>{var w;(w=f.value[V])==null||w.select()})),requestAnimationFrame(()=>{k!=null&&te(s.value,k)}))}function M(i,y){var k,w;y.preventDefault(),y.stopPropagation();const V=((k=y==null?void 0:y.clipboardData)==null?void 0:k.getData("Text"))??"";I(V)||(v.value=V.split(""),(w=f.value)==null||w[i].blur())}function g(){v.value=[]}function b(i,y){x(),c.value=y}function P(){_(),c.value=-1}function I(i){return e.type==="number"&&/[^0-9]/g.test(i)}return Ae({VField:{color:h(()=>e.color),bgColor:h(()=>e.color),baseColor:h(()=>e.baseColor),disabled:h(()=>e.disabled),error:h(()=>e.error),variant:h(()=>e.variant)}},{scoped:!0}),G(v,i=>{i.length===T.value&&a("finish",i.join(""))},{deep:!0}),G(c,i=>{i<0||ae(()=>{var y;(y=f.value[i])==null||y.select()})}),J(()=>{var V;const[i,y]=Fe(o);return t("div",ee({class:["v-otp-input",{"v-otp-input--divided":!!e.divider},e.class],style:[e.style]},i),[t("div",{ref:s,class:"v-otp-input__content",style:[d.value]},[S.value.map((k,w)=>t(Le,null,[e.divider&&w!==0&&t("span",{class:"v-otp-input__divider"},[e.divider]),t(ge,{focused:l.value&&e.focusAll||c.value===w,key:w},{...r,loader:void 0,default:()=>t("input",{ref:A=>f.value[w]=A,"aria-label":B(e.label,w+1),autofocus:w===0&&e.autofocus,autocomplete:"one-time-code",class:["v-otp-input__field"],disabled:e.disabled,inputmode:e.type==="number"?"numeric":"text",min:e.type==="number"?0:void 0,maxlength:"1",placeholder:e.placeholder,type:e.type==="number"?"text":e.type,value:v.value[w],onInput:F,onFocus:A=>b(A,w),onBlur:P,onKeydown:D,onPaste:A=>M(w,A)},null)})])),t("input",ee({class:"v-otp-input-input",type:"hidden"},y,{value:v.value.join("")}),null),t(_e,{contained:!0,"content-class":"v-otp-input__loader","model-value":!!e.loading,persistent:!0},{default:()=>{var k;return[((k=r.loader)==null?void 0:k.call(r))??t(xe,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,size:"24",width:"2"},null)]}}),(V=r.default)==null?void 0:V.call(r)])])}),{blur:()=>{var i;(i=f.value)==null||i.some(y=>y.blur())},focus:()=>{var i;(i=f.value)==null||i[0].focus()},reset:g,isFocused:l}}});const Ke=e=>{const{touchstartX:n,touchendX:o,touchstartY:a,touchendY:r}=e,d=.5,l=16;e.offsetX=o-n,e.offsetY=r-a,Math.abs(e.offsetY)<d*Math.abs(e.offsetX)&&(e.left&&o<n-l&&e.left(e),e.right&&o>n+l&&e.right(e)),Math.abs(e.offsetX)<d*Math.abs(e.offsetY)&&(e.up&&r<a-l&&e.up(e),e.down&&r>a+l&&e.down(e))};function Je(e,n){var a;const o=e.changedTouches[0];n.touchstartX=o.clientX,n.touchstartY=o.clientY,(a=n.start)==null||a.call(n,{originalEvent:e,...n})}function Qe(e,n){var a;const o=e.changedTouches[0];n.touchendX=o.clientX,n.touchendY=o.clientY,(a=n.end)==null||a.call(n,{originalEvent:e,...n}),Ke(n)}function Ze(e,n){var a;const o=e.changedTouches[0];n.touchmoveX=o.clientX,n.touchmoveY=o.clientY,(a=n.move)==null||a.call(n,{originalEvent:e,...n})}function et(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:o=>Je(o,n),touchend:o=>Qe(o,n),touchmove:o=>Ze(o,n)}}function tt(e,n){var x;const o=n.value,a=o!=null&&o.parent?e.parentElement:e,r=(o==null?void 0:o.options)??{passive:!0},d=(x=n.instance)==null?void 0:x.$.uid;if(!a||!d)return;const l=et(n.value);a._touchHandlers=a._touchHandlers??Object.create(null),a._touchHandlers[d]=l,se(l).forEach(_=>{a.addEventListener(_,l[_],r)})}function ot(e,n){var d,l;const o=(d=n.value)!=null&&d.parent?e.parentElement:e,a=(l=n.instance)==null?void 0:l.$.uid;if(!(o!=null&&o._touchHandlers)||!a)return;const r=o._touchHandlers[a];se(r).forEach(x=>{o.removeEventListener(x,r[x])}),delete o._touchHandlers[a]}const ie={mounted:tt,unmounted:ot},nt=ie,re=Symbol.for("vuetify:v-window"),ce=Symbol.for("vuetify:v-window-group"),at=q({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...le(),...be(),...$e()},"VWindow"),st=K()({name:"VWindow",directives:{Touch:ie},props:at(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:o}=n;const{themeClasses:a}=He(e),{isRtl:r}=Ye(),{t:d}=ne(),l=we(e,ce),x=R(),_=h(()=>r.value?!e.reverse:e.reverse),v=X(!1),B=h(()=>{const g=e.direction==="vertical"?"y":"x",P=(_.value?!v.value:v.value)?"-reverse":"";return`v-window-${g}${P}-transition`}),T=X(0),S=R(void 0),c=h(()=>l.items.value.findIndex(g=>l.selected.value.includes(g.id)));G(c,(g,b)=>{const P=l.items.value.length,I=P-1;P<=2?v.value=g<b:g===I&&b===0?v.value=!0:g===0&&b===I?v.value=!1:v.value=g<b}),je(re,{transition:B,isReversed:v,transitionCount:T,transitionHeight:S,rootRef:x});const s=h(()=>e.continuous||c.value!==0),f=h(()=>e.continuous||c.value!==l.items.value.length-1);function m(){s.value&&l.prev()}function F(){f.value&&l.next()}const D=h(()=>{const g=[],b={icon:r.value?e.nextIcon:e.prevIcon,class:`v-window__${_.value?"right":"left"}`,onClick:l.prev,"aria-label":d("$vuetify.carousel.prev")};g.push(s.value?o.prev?o.prev({props:b}):t(E,b,null):t("div",null,null));const P={icon:r.value?e.prevIcon:e.nextIcon,class:`v-window__${_.value?"left":"right"}`,onClick:l.next,"aria-label":d("$vuetify.carousel.next")};return g.push(f.value?o.next?o.next({props:P}):t(E,P,null):t("div",null,null)),g}),M=h(()=>e.touch===!1?e.touch:{...{left:()=>{_.value?m():F()},right:()=>{_.value?F():m()},start:b=>{let{originalEvent:P}=b;P.stopPropagation()}},...e.touch===!0?{}:e.touch});return J(()=>ue(t(e.tag,{ref:x,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},a.value,e.class],style:e.style},{default:()=>{var g,b;return[t("div",{class:"v-window__container",style:{height:S.value}},[(g=o.default)==null?void 0:g.call(o,{group:l}),e.showArrows!==!1&&t("div",{class:"v-window__controls"},[D.value])]),(b=o.additional)==null?void 0:b.call(o,{group:l})]}}),[[We("touch"),M.value]])),{group:l}}});function lt(){const e=X(!1);return Xe(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:h(()=>e.value?void 0:{transition:"none !important"}),isBooted:De(e)}}const ut=q({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...le(),...pe(),...Ve()},"VWindowItem"),W=K()({name:"VWindowItem",directives:{Touch:nt},props:ut(),emits:{"group:selected":e=>!0},setup(e,n){let{slots:o}=n;const a=Me(re),r=ke(e,ce),{isBooted:d}=lt();if(!a||!r)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const l=X(!1),x=h(()=>d.value&&(a.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function _(){!l.value||!a||(l.value=!1,a.transitionCount.value>0&&(a.transitionCount.value-=1,a.transitionCount.value===0&&(a.transitionHeight.value=void 0)))}function v(){var s;l.value||!a||(l.value=!0,a.transitionCount.value===0&&(a.transitionHeight.value=oe((s=a.rootRef.value)==null?void 0:s.clientHeight)),a.transitionCount.value+=1)}function B(){_()}function T(s){l.value&&ae(()=>{!x.value||!l.value||!a||(a.transitionHeight.value=oe(s.clientHeight))})}const S=h(()=>{const s=a.isReversed.value?e.reverseTransition:e.transition;return x.value?{name:typeof s!="string"?a.transition.value:s,onBeforeEnter:v,onAfterEnter:_,onEnterCancelled:B,onBeforeLeave:v,onAfterLeave:_,onLeaveCancelled:B,onEnter:T}:!1}),{hasContent:c}=Ce(e,r.isSelected);return J(()=>t(Pe,{transition:S.value,disabled:!d.value},{default:()=>{var s;return[ue(t("div",{class:["v-window-item",r.selectedClass.value,e.class],style:e.style},[c.value&&((s=o.default)==null?void 0:s.call(o))]),[[ze,r.isSelected.value]])]}})),{groupItem:r}}}),it={class:"primary fill-height"},rt={class:"overlay py-6"},ct={key:0,class:"text-center mb-3"},dt=["innerHTML"],vt=C("span",{class:"font-weight-bold d-inline-block px-0 ml-3 my-3"}," Email ",-1),ft=C("span",{class:"px-0 text-secondary"}," Already have an account ? ",-1),mt=C("span",{class:"px-0 text-secondary"}," Already have an account ? ",-1),ht=C("span",{class:"font-weight-bold d-inline-block px-1 my-3"}," New Password ",-1),yt=C("span",{class:"font-weight-bold d-inline-block px-1 my-3"}," Repeat Password ",-1),gt=C("span",{class:"px-0 text-secondary"},"Already have an account?",-1),_t=C("span",{class:"px-0 text-secondary"}," Don't have account ? ",-1),xt={key:0,class:"text-center"},bt={class:"mx-2"},wt={key:1,class:"text-center"},pt=C("span",{class:"mx-2"},"Something Went Wrong!",-1),Vt=[pt],kt={class:"text-center"},Tt=Oe({__name:"resetPassword",setup(e){const n=R({email:"",password:"",verifyCode:""}),o=R(1),a=R({displayError:!1,msg:"",errorCode:0}),r=R({success:!1}),d=R(null),l=R(Re),x=h(()=>{switch(o.value){case 1:return"Forgot Password?";case 2:return"Verify Code";case 3:return"Reset Password";default:return'<div class="text-center">The Password Changed successfully </div>'}}),_=h(()=>{switch(o.value){case 1:return"";case 2:return"";case 3:return"";default:return"mdi-check-bold"}}),v=h(()=>{switch(o.value){case 1:return"Enter your email to get a password reset link";case 2:return"Please Enter The Code You Have Received From Email";case 3:return"Please enter you new password";default:return""}}),B=async()=>{var c;(c=d.value)==null||c.validate().then(async({valid:s})=>{if(s)try{const{data:f}=await N("https://elkodaa.chd-staging.tech/api/c/auth/forgot-password").post(n.value).json();o.value=2}catch{a.value.displayError=!0}})},T=async()=>{var c;(c=d.value)==null||c.validate().then(async({valid:s})=>{if(s)try{const{data:f}=await N("https://elkodaa.chd-staging.tech/api/c/auth/forgot-password").post(n.value).json();o.value=3}catch{a.value.displayError=!0}})},S=async()=>{var c;(c=d.value)==null||c.validate().then(async({valid:s})=>{if(s)try{const{data:f}=await N("https://elkodaa.chd-staging.tech/api/c/auth/forgot-password").post(n.value).json();o.value=4}catch{a.value.displayError=!0}})};return(c,s)=>{const f=de;return Y(),H("div",it,[C("div",rt,[t(Ee,{class:"mx-auto my-12 py-8 px-3","max-width":"500"},{default:u(()=>[t(z,{"max-width":"440",class:"mx-auto"},{default:u(()=>[j(_)?(Y(),H("div",ct,[t(Te,{color:"success",size:"60"},{default:u(()=>[t(Z,{icon:j(_),size:"x-large"},null,8,["icon"])]),_:1})])):Ne("",!0),C("h1",{class:"text-center text-h6",innerHTML:j(x)},null,8,dt),t(Be,{class:"py-2 px-0 text-subtitle-1 text-center"},{default:u(()=>[p(U(j(v)),1)]),_:1}),t(st,{modelValue:o.value,"onUpdate:modelValue":s[6]||(s[6]=m=>o.value=m)},{default:u(()=>[t(W,{value:1},{default:u(()=>[t(L,{ref_key:"formRef",ref:d},{default:u(()=>[vt,t(O,{"aria-required":"true",label:"Enter Email",variant:"solo",modelValue:n.value.email,"onUpdate:modelValue":s[0]||(s[0]=m=>n.value.email=m),rules:l.value.validation.emailRules,class:"my-2 px-1"},null,8,["modelValue","rules"]),t(E,{block:"",class:"py-6",color:"subcolor",onClick:s[1]||(s[1]=m=>B())},{default:u(()=>[p(" Reset Password ")]),_:1}),t($,{class:"justify-center"},{default:u(()=>[ft,t(f,{to:"/login"},{default:u(()=>[t(E,{class:"px-0 text-capitalize text-subcolor"},{default:u(()=>[p(" Login ")]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1}),t(W,{value:2},{default:u(()=>[t(L,{ref_key:"formRef",ref:d},{default:u(()=>[t(z,{class:"my-2 mx-auto","max-width":"80%"},{default:u(()=>[t(qe,{length:"6",variant:"solo","hide-details":!1,type:"number",modelValue:n.value.verifyCode,"onUpdate:modelValue":s[2]||(s[2]=m=>n.value.verifyCode=m),rules:l.value.validation.numberRules},null,8,["modelValue","rules"])]),_:1}),t(E,{block:"","min-width":"50% !important",class:"py-6 mx-auto my-3 primary",color:"secondary",onClick:s[3]||(s[3]=m=>T())},{default:u(()=>[p(" Verify Code ")]),_:1}),t($,{class:"justify-center"},{default:u(()=>[mt,t(f,{to:"/login"},{default:u(()=>[t(E,{class:"px-0 text-capitalize text-subcolor"},{default:u(()=>[p(" Login ")]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1}),t(W,{value:3},{default:u(()=>[t(L,{ref_key:"formRef",ref:d},{default:u(()=>[ht,t(O,{label:"Enter New Password",variant:"solo",type:"password",class:"px-1",modelValue:n.value.password,"onUpdate:modelValue":s[4]||(s[4]=m=>n.value.password=m),rules:l.value.validation.passowrdRules},null,8,["modelValue","rules"]),yt,t(O,{label:"Repeat Password",variant:"solo",class:"px-1",type:"password",rules:l.value.confirmPassword(n.value.password)},null,8,["rules"]),t(E,{block:"",class:"py-6",color:"subcolor",onClick:s[5]||(s[5]=m=>S())},{default:u(()=>[p(" Change Password ")]),_:1}),t($,{class:"justify-center"},{default:u(()=>[gt,t(f,{to:"/login"},{default:u(()=>[t(E,{class:"px-0 text-capitalize",color:"subcolor"},{default:u(()=>[p(" Login ")]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1}),t(W,{value:4},{default:u(()=>[t(L,{ref_key:"formRef",ref:d},{default:u(()=>[t(z,{class:"my-2 mx-auto","max-width":"80%"},{default:u(()=>[t(f,{to:"/login",style:{"text-decoration":"none"}},{default:u(()=>[t(E,{block:"",class:"py-6",color:"secondary"},{default:u(()=>[p(" Let's go to login ")]),_:1})]),_:1})]),_:1}),t($,{class:"justify-center"},{default:u(()=>[_t,t(f,{to:"/register"},{default:u(()=>[t(E,{color:"subcolor",class:"px-0 mx-2 text-capitalize"},{default:u(()=>[p(" Register ")]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(Q,{modelValue:a.value.displayError,"onUpdate:modelValue":s[8]||(s[8]=m=>a.value.displayError=m),"multi-line":""},{actions:u(()=>[t(E,{color:"red",onClick:s[7]||(s[7]=m=>a.value.displayError=!1)},{default:u(()=>[p(" Close ")]),_:1})]),default:u(()=>[a.value.errorCode?(Y(),H("div",xt,[t(Ue,{color:"error",size:"20"},{default:u(()=>[p(U(a.value.errorCode),1)]),_:1}),C("span",bt,U(a.value.msg),1)])):(Y(),H("div",wt,Vt))]),_:1},8,["modelValue"]),t(Q,{timeout:2e3,value:!0,fixed:"",bottom:"",color:"success",elevation:"24",modelValue:r.value.success,"onUpdate:modelValue":s[9]||(s[9]=m=>r.value.success=m)},{default:u(()=>[C("div",kt,[p(" The Password Changed successfully "),t(Z,{class:"mx-2"},{default:u(()=>[p("mdi-check-bold")]),_:1})])]),_:1},8,["modelValue"])])])}}});export{Tt as default};
