import{_ as g}from"./nuxt-link.bf9a0193.js";import{r as m,n as _,q as b,s as k,h as S,u as V,v as C,c as E,a as p,b as l,w as c,o as T,d as f}from"./entry.3fd676fb.js";import{V as N,a as h,v as A,b as R,c as P,d as U,e as w,f as y,g as D,h as I,u as L}from"./VTextField.fa0208e4.js";const x=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function O(e,i){if(typeof e!="string")throw new TypeError("argument str must be a string");const a={},d=(i||{}).decode||B;let r=0;for(;r<e.length;){const t=e.indexOf("=",r);if(t===-1)break;let s=e.indexOf(";",r);if(s===-1)s=e.length;else if(s<t){r=e.lastIndexOf(";",t-1)+1;continue}const u=e.slice(r,t).trim();if(a[u]===void 0){let n=e.slice(t+1,s).trim();n.codePointAt(0)===34&&(n=n.slice(1,-1)),a[u]=j(n,d)}r=s+1}return a}function v(e,i,a){const o=a||{},d=o.encode||z;if(typeof d!="function")throw new TypeError("option encode is invalid");if(!x.test(e))throw new TypeError("argument name is invalid");const r=d(i);if(r&&!x.test(r))throw new TypeError("argument val is invalid");let t=e+"="+r;if(o.maxAge!==void 0&&o.maxAge!==null){const s=o.maxAge-0;if(Number.isNaN(s)||!Number.isFinite(s))throw new TypeError("option maxAge is invalid");t+="; Max-Age="+Math.floor(s)}if(o.domain){if(!x.test(o.domain))throw new TypeError("option domain is invalid");t+="; Domain="+o.domain}if(o.path){if(!x.test(o.path))throw new TypeError("option path is invalid");t+="; Path="+o.path}if(o.expires){if(!F(o.expires)||Number.isNaN(o.expires.valueOf()))throw new TypeError("option expires is invalid");t+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(t+="; HttpOnly"),o.secure&&(t+="; Secure"),o.priority)switch(typeof o.priority=="string"?o.priority.toLowerCase():o.priority){case"low":t+="; Priority=Low";break;case"medium":t+="; Priority=Medium";break;case"high":t+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(o.sameSite)switch(typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite){case!0:t+="; SameSite=Strict";break;case"lax":t+="; SameSite=Lax";break;case"strict":t+="; SameSite=Strict";break;case"none":t+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return t}function F(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function j(e,i){try{return i(e)}catch{return e}}function B(e){return e.includes("%")?decodeURIComponent(e):e}function z(e){return encodeURIComponent(e)}const M={path:"/",watch:!0,decode:e=>V(decodeURIComponent(e)),encode:e=>encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))};function $(e,i){var r;const a={...M,...i},o=q(a)||{},d=m(o[e]??((r=a.default)==null?void 0:r.call(a)));{const t=typeof BroadcastChannel>"u"?null:new BroadcastChannel(`nuxt:cookies:${e}`),s=()=>{W(e,d.value,a),t==null||t.postMessage(a.encode(d.value))};let u=!1;_()&&b(()=>{u=!0,s(),t==null||t.close()}),t&&(t.onmessage=n=>{u=!0,d.value=a.decode(n.data),k(()=>{u=!1})}),a.watch?S(d,()=>{u||s()},{deep:a.watch!=="shallow"}):s()}return d}function q(e={}){return O(document.cookie,e)}function H(e,i,a={}){return i==null?v(e,i,{...a,maxAge:-1}):v(e,i,a)}function W(e,i,a={}){document.cookie=H(e,i,a)}const J={class:"signin primary fill-height"},G={class:"overlay py-6"},K=p("h2",{class:"text-center text-secondary mb-1"},"Login",-1),Q=p("span",{class:"font-weight-bold px-0 my-2 d-block"},"Email",-1),X={class:"d-flex mb-2"},Y=p("span",{class:"font-weight-bold px-0 flex-grow-1 my-2"}," Password ",-1),Z=p("div",{class:"px-0 my-1 text-capitalize text-subcolor"}," Forgot password? ",-1),ee=p("span",{class:"px-0 text-secondary"}," Don't have an account ? ",-1),te=p("div",{class:"text-center"},[p("span",{class:"mx-2"},"Something Went Wrong!")],-1),oe={class:"text-center"},ne=C({__name:"login",setup(e){const i=m({email:"",password:""}),a=m({displayError:!1,msg:""}),o=m({success:!1}),d=m(A),r=async()=>{try{const t=$("laravel_session");console.log(t);let s={accept:"application/json"};const{data:u}=await L("https://elkodaa.chd-staging.tech/api/c/auth/login",{headers:s,credentials:"include"}).post(i.value).json();u.value?o.value.success=!0:a.value.displayError=!0}catch{a.value.displayError=!0}};return(t,s)=>{const u=g;return T(),E("div",J,[p("div",G,[l(N,{class:"mx-auto mt-12 py-3 px-3",elevation:"24","max-width":"500",rounded:"lg"},{default:c(()=>[l(R,{"max-width":"440",class:"mx-auto",color:"transparent"},{default:c(()=>[K,l(P,{class:"pb-3 pt-0 px-0 text-h6 text-center text-secondary"},{default:c(()=>[f(" Access to our dashboard ")]),_:1}),l(U,{ref:"createAccount"},{default:c(()=>[Q,l(w,{modelValue:i.value.email,"onUpdate:modelValue":s[0]||(s[0]=n=>i.value.email=n),label:"Email",rules:d.value.validation.emailRules,variant:"solo"},null,8,["modelValue","rules"]),p("div",X,[Y,l(u,{to:"/resetPassword",style:{"text-decoration":"none"}},{default:c(()=>[Z]),_:1})]),l(w,{modelValue:i.value.password,"onUpdate:modelValue":s[1]||(s[1]=n=>i.value.password=n),label:"Password",rules:d.value.validation.passowrdRules,variant:"solo"},null,8,["modelValue","rules"]),l(y,{block:"",class:"py-6 my-2 font-weight-bold",color:"subcolor",onClick:s[2]||(s[2]=n=>r())},{default:c(()=>[f(" Login ")]),_:1}),l(D,{class:"justify-center"},{default:c(()=>[ee,l(u,{to:"/register"},{default:c(()=>[l(y,{class:"px-0 text-capitalize text-subcolor"},{default:c(()=>[f(" Register ")]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),l(h,{modelValue:a.value.displayError,"onUpdate:modelValue":s[4]||(s[4]=n=>a.value.displayError=n),"multi-line":"",fixed:"",bottom:"",color:"error",elevation:"24"},{actions:c(()=>[l(y,{onClick:s[3]||(s[3]=n=>a.value.displayError=!1)},{default:c(()=>[f(" Close ")]),_:1})]),default:c(()=>[te]),_:1},8,["modelValue"]),l(h,{modelValue:o.value.success,"onUpdate:modelValue":s[5]||(s[5]=n=>o.value.success=n),timeout:2e3,fixed:"",bottom:"",color:"success",elevation:"24"},{default:c(()=>[p("div",oe,[f(" Saved successfully "),l(I,{class:"mx-2"},{default:c(()=>[f("mdi-check-bold")]),_:1})])]),_:1},8,["modelValue"])])}}});export{ne as default};
